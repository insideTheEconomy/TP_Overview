function WAMP(e){var t;self=this;self.callbacks=e.wampMethods;try{t=require("autobahn")}catch(n){console.log(n)}var r,i=new t.Connection({url:url,realm:"tradingpit"});i.onopen=function(e){self.sess=e;var t=null;loadScreen("shared_0.html");e.subscribe("pit.pub.phase",self.callbacks.onPhase).then(function(e){t=e},function(e){});e.subscribe("pit.pub.clock",self.callbacks.onTick).then(function(e){t=e},function(e){})};i.open()}var sharedscreenwamp=function(){this.wampMethods={test:function(){alert("I'm the shared screen!")},onTick:function(e,t,n){$("#time").html(t.end_of_phase.minutes+":"+t.end_of_phase.seconds)},rpcCall:function(e){console.log(e)},onPhase:function(e,t,n){console.log("onPhase: ",t);if(t.action=="enter")switch(t.name){case"Setup":phase=0;loadScreen("shared_0.html");break;case"Round":phase=1;loadScreen("shared_1.html");break;case"Wrap-up":phase=2;loadScreen("shared_2.html");break;case"Player Recap":phase=3;loadScreen("shared_0.html")}else switch(t.name){case"Setup":break;case"Round":break;case"Wrap-up":break;case"Player Recap":}}};this.wamp=new WAMP(this)};w=new sharedscreenwamp;